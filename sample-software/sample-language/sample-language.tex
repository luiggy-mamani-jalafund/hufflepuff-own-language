\documentclass{article}
\usepackage{minted}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{xcolor}  

\definecolor{lightgray}{gray}{0.97}

\setminted[Haskell]{
    frame=lines,
    framesep=2mm,
    baselinestretch=1.2,
    bgcolor=lightgray,
    fontsize=\footnotesize,
    linenos,
    breaklines=true,  
    breakanywhere=true
}
\usepackage{geometry}
\geometry{left=3cm, right=3cm}


\title{Sample language - 4 Sprints Pacman}
\author{Hufflepuff}

\begin{document}
\maketitle

\section{SPRINT 1}
\begin{minted}{Haskell}
// SPRINT 1
func sprint1Tasks -> List:Task {
  params {}
  return {
    List:Task [
      Task {
        title: "Configuración del entorno de desarrollo",
        description: "Yo como desarrollador, quiero tener instalado todas las herramientas necesarias como compiladores, entornos de desarrollo, y sistemas de control de versiones.",
        state: "Completed",
        members: List:Member [Member {name: "Axel", role: "Developer"}],
        tag: "Backend",
        subTasks: List:Task []
      },
      Task {
        title: "Diseño inicial del laberinto",
        description: "Yo como usuario, quiero crear un diseño básico del laberinto utilizando herramientas de diseño gráfico.",
        state: "Completed",
        members: List:Member [Member {name: "Diego", role: "Designer"}],
        tag: "Frontend",
        subTasks: List:Task []
      }
    ]
  }
}

func taskMovementPacman -> Task {
    params {
        titleTask: StringParagraph
    }
    return {
        Task {
          title: titleTask,
	        description: "Yo como desarrollador, quiero tener implementado el movimiento básico de Pacman en el laberinto.",
	        state: "IsFinished",
	        members: List:Member [Member {name: "Luiggy", role: "Developer"}],
	        tag: "Backend",
	        subTasks: List:Task []
        }
    }
}

// Imprimir tareas
func printTasksTitle -> String {
  params { task: Task }
  return {
    task.title
  }
}

// Verificar el estado de las tareas
func isFinished -> Bool {
  params { myTask: Task }
  pattern {
    case (myTask.state == "IsFinished") {
      True
    }
    default {
      False
    }
  }
}

// Ejecución de ejemplo:imprimir tareas y actualizar el estado de una tarea
do {
  isFinished(taskMovementPacman("Movimiento basico de Pacman"));
  // Como el do solo puede una funcion a la vez, otro ejemplo de ejecucion es:
  map(sprint1Tasks, printTasksTitle);
}
\end{minted}

\section{SPRINT 2}
\begin{minted}{Haskell}
// SPRINT 2
func sprint2Tasks -> List:Task {
  params {}
  return {
    List:Task [
      Task {
        title: "Spike: Investigación de patrones de movimiento de fantasmas",
        description: "Yo como usuario, quiero definir los patrones de movimiento para cada fantasma basándose en estudios de versiones anteriores de Pac-Man y adaptaciones modernas. Explorar algoritmos de IA para mejorar la autonomía de los movimientos.",
        state: "Completed",
        members: List:Member [Member {name: "Santiago", role: "Developer"}],
        tag: "Spike",
        subTasks: List:Task [
          Task {
            title: "Spike: Revisión de documentación histórica de Pac-Man",
            description: "Yo como usuario, quiero analizar la documentación y recursos existentes sobre los patrones de movimiento de los fantasmas en las versiones clásicas del juego.",
            state: "Completed",
            members: List:Member [Member {name: "Leonardo", role: "Developer"}],
            tag: "Spike",
            subTasks: List:Task []
          },
          Task {
            title: "Experimentación con algoritmos de IA",
            description: "Yo como usuario, quiero implementar prototipos de algoritmos de inteligencia artificial para simular movimientos autónomos y adaptativos de los fantasmas.",
            state: "Completed",
            members: List:Member [Member {name: "Axel", role: "Developer"}],
            tag: "Backend",
            subTasks: List:Task []
          }
        ]
      },
      Task {
        title: "Mecánicas de interacción",
        description: "Yo como desarrollador, quiero las mecánicas de interacción entre Pac-Man y los fantasmas, incluyendo la pérdida de vidas cuando Pac-Man es tocado y la capacidad de comer fantasmas al consumir puntos de poder.",
        state: "Completado",
        members: List:Member [Member {name: "Sebas", role: "Developer"}],
        tag: "Backend",
        subTasks: List:Task []
      },
      Task {
        title: "Pruebas iniciales de las mecánicas de Pac-man",
        description: "Yo como desarrollador, quiero que se realicen pruebas iniciales para asegurar que las mecánicas implementadas funcionan correctamente en diversos escenarios y no hay errores lógicos con respecto a la logica de la IA implementada.",
        state: "Completado",
        members: List:Member [Member {name: "Diego", role: "QA Tester"}],
        tag: "QA",
        subTasks: List:Task []
      }
    ]
  }
}

// Imprimir tareas
func printTasks -> String {
  params { task: Task }
  return {
    task 
  }
}

// Ejecución de ejemplo: imprimir detalles de las tareas
do {
  map(sprint2Tasks, printTasks)
}
\end{minted}

\section{SPRINT 3}
\begin{minted}{Haskell}
// SPRINT 3
func sprint3Tasks -> List:Task {
  params {}
  return {
    List:Task [
      Task {
        title: "Diseño completo de niveles",
        description: "Yo como usuario, quiero finalizar el diseño y la implementación de todos los niveles del juego.",
        state: checkTaskCompletion("Diseño completo de niveles", "Todos los niveles revisados y aprobados"),
        members: List:Member [Member {name: "Sebas", role: "Designer"}],
        tag: "Fronted",
        subTasks: List:Task []
      },
      Task {
        title: "Implementación de la UI básica",
        description: "Yo como desarrollador, quiero tener desarrollado y completado la interfaz de usuario, incluyendo pantallas de inicio, menús de configuración, y pantallas de puntuación alta.",
        state: checkTaskCompletion("Implementación de la UI básica", "UI probada en múltiples dispositivos"),
        members: List:Member [Member {name: "Luiggy", role: "Developer"}],
        tag: "UI",
        subTasks: List:Task []
      },
      Task {
        title: "Pruebas de UI y Niveles",
        description: "Yo como desarrollador, quiero que se realicen pruebas exhaustivas para asegurar que los niveles están bien diseñados y que la UI funciona como se espera en diferentes plataformas y resoluciones.",
        state: checkTaskCompletion("Pruebas de UI y Niveles", "Sin errores críticos"),
        members: List:Member [Member {name: "Axel", role: "QA Tester"}],
        tag: "QA",
        subTasks: List:Task []
      }
    ]
  }
}

// Verificacion tareas completadas
func checkTaskCompletion -> State {
  params { taskTitle: StringId, condition: StringParagraph }
  pattern {
    case (condition == "Todos los niveles revisados y aprobados", taskTitle) {
      "Completed"
    }
    case (condition == "UI probada en múltiples dispositivos", taskTitle) {
      "Completed"
    }
    case (condition == "Sin errores críticos", taskTitle) {
      "Completed"
    }
    default {
      "InProgress"
    }
  }
}

// Obtener nombre de miembros
func getMemberName -> String {
  params { member: Member }
  return { member.name }
}

// Imprimir tareas completadas
func printCompletedTaskDetails -> String {
  params { task: Task }
  pattern {
    case (task.state == "Completed") {
        "Título: " + task.title + ", Descripción: " + task.description + ", Estado: " + task.state + ", Miembros: " + map(task.members, getMemberName)
    }
    default {
        "Tarea no completada: " + task.title
    }
  }
}

// Ejecución de ejemplo: imprimir detalles de las tareas completadas
do {
  map(sprint3Tasks, printCompletedTaskDetails)
}
\end{minted}

\section{SPRINT 4}
\begin{minted}{Haskell}
// SPRINT 4
func sprint4Tasks -> List:Task {
  params {}
  return {
    List:Task [
      Task {
        title: "Efectos de sonido",
        description: "Yo como desarrollador, quiero añadir efectos de sonido para las acciones de Pac-Man y las interacciones con los fantasmas y puntos especiales.",
        state: checkTaskState("Integración de efectos de sonido", "Efectos implementados y probados"),
        members: List:Member [Member {name: "Santiago", role: "Developer"}],
        tag: "Backend",
        subTasks: List:Task [
          Task {
            title: "Creación de efectos",
            description: "Yo como desarrollador, quiero diseñar y desarrollar los efectos sonoros específicos para cada acción del juego.",
            state: "Completed",
            members: List:Member [Member {name: "Axel", role: "Developer"}],
            tag: "Backend",
            subTasks: List:Task []
          }
        ]
      },
      Task {
        title: "Implementación de música de fondo",
        description: "Yo como desarrollador, quiero componer y adaptar música de fondo que mejore la experiencia de juego sin ser intrusiva.",
        state: "InProgress",
        members: List:Member [Member {name: "Sebas", role: "Developer"}],
        tag: "Backend",
        subTasks: List:Task []
      },
      Task {
        title: "Pruebas de integración de sonido",
        description: "Yo como desarrollador, quiero que se verifique que los efectos de sonido y la música de fondo funcionen correctamente integrados con el juego.",
        state: "InProgress",
        members: List:Member [Member {name: "Diego", role: "QA Tester"}],
        tag: "QA",
        subTasks: List:Task []
      }
    ]
  }
}

// Verificar y actualizar el estado de las tareas
func checkTaskState -> State {
  params { taskTitle: StringId, condition: StringParagraph }
  pattern {
    case (condition == "Efectos implementados y probados", taskTitle) {
      "Completed"
    }
    default {
      "InProgress"
    }
  }
}

// Imprimir los detalles de las tareas
func printTaskDetails -> String {
  params { task: Task }
  pattern {
    case (task.state == "Completed") {
        "Título: " + task.title + ", Descripción: " + task.description + ", Estado: Completado, Miembros: " + map(task.members, getMemberName)
    }
    default {
        "Título: " + task.title + ", Descripción: " + task.description + ", Estado: En Progreso, Miembros: "
    }
  }
}

// Ejecución de ejemplo: imprimir detalles de las tareas
do {
  map(sprint4Tasks, printTaskDetails)
}
\end{minted}

\end{document}
